<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>Scrapboxã«ç™»éŒ²ï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ãƒªãƒ³ã‚¯ã‚’é–‹ãï¼‰ã€Webã‚¢ãƒ—ãƒªã€‘</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
  <p>
   ã€€ğŸ”µãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ãƒªãƒ³ã‚¯ã‚’é–‹ãï¼ˆï¼URLã‚’æŠ•ã’ã‚‹ï¼‰ã«ã¯æ‹¡å¼µæ©Ÿèƒ½ã€ŒForce Background Tabã€ã§ã„ã‘ãŸï¼<br>
   ã€€ãƒ»ã‚¹ãƒãƒ›ã§ã‚‚ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã‚¿ãƒ–ã‚’é–‹ã‘ã‚‹ï¼ˆSafari,Chromeå…±ã«ï¼‰ã€‚Safariã¯ã‚¢ãƒ—ãƒªã®è¨­å®šã§å¤‰æ›´ã§ããŸ<br>
   ã€€ãƒ»ã€çŸ¥è¦‹ã€‘aè¦ç´ ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã«ã¯ã€IDã‚»ãƒ¬ã‚¯ã‚¿ã§å–å¾—ã—ã¦ã‚‚ã€ã‚«ã‚®æ‹¬å¼§0ï¼ˆ[0]ï¼‰ãŒå¿…è¦ã ã£ãŸ $("#scrapboxã«é€£ç¶šç™»éŒ²")[0].click();<br>
   ã€€
  	<input type="text" id="ã‚¿ã‚¤ãƒˆãƒ«" placeholder="ã‚¿ã‚¤ãƒˆãƒ«" value=""><br>
  	<!-- <input type="text" id="body" placeholder="æœ¬æ–‡" value=""><br> -->
  	ã€€ã€€<textarea id="æœ¬æ–‡" placeholder="æœ¬æ–‡" value=""></textarea><br>
    <a id="scrapboxã«ç™»éŒ²" href="https://scrapbox.io/ssatoh17/Tips?body=[ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§æ–°è¦ã‚¿ãƒ–ã‚’é–‹ãã«ã¯]" target="_blank">Scrapboxã«è¿½åŠ </a>
  	<input type="checkbox">pushbulletã«ã‚‚æŠ•ç¨¿ã™ã‚‹<br>
  	<br>
    <a id="scrapboxã«é€£ç¶šç™»éŒ²" href="https://scrapbox.io/ssatoh17/ScrapboxWebã‚¢ãƒ—ãƒªã§ã®ç™»éŒ²ãƒ­ã‚°?body=test" target="_blank">Scrapboxã«è¿½åŠ ï¼ˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã‚¯ãƒªãƒƒã‚¯ï¼‰</a>
    
    æœªå®Ÿè£…ï¼š<br>
    ã€€ãƒ»åŒæ™‚ã«é€£ç¶šæŠ•ç¨¿<br>
		ã€€ãƒ»Googleæ¤œç´¢çµæœã«è¡¨ç¤ºã™ã‚‹ï¼ˆé›£ã—ã„ã‹ã‚‚ï¼‰<br>
		
		<div id="ãƒ–ãƒ©ã‚¦ã‚¶å"></div>
    ã€€
    <br>
    ã€æ›´æ–°å±¥æ­´ã€‘<br>
    ã€€ãƒ»2018-04-29 Line Notify APIã§ã‚¿ã‚¤ãƒˆãƒ«ã‚’LINEã®ã€Œ#å‚™å¿˜éŒ²ã€ã‚°ãƒ«ãƒ¼ãƒ—ã«é€šçŸ¥ã™ã‚‹ã‚ˆã†ã«ã—ãŸ<br>
    
    <script>
        //jQuery https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js ã®ãƒ­ãƒ¼ãƒ‰ã¯æ¸ˆã‚“ã§ã„ã‚‹ã®ãŒå‰æ
        
    	var accessToken = '10iU3TBW1R8uQuF2nou7uTTaqlgrPZmodvhP5349rv5'; //å…¬é–‹ã—ã¦ã—ã¾ã†ã¨ã“ã®keyãŒæµå‡ºã—ã¦ã—ã¾ã†ãŠãã‚ŒãŒã‚ã‚‹

    	function Lineã«é€šçŸ¥(msg) {
		    var url = 'https://notify-api.line.me/api/notify';
		    var message = msg; //'ğŸ”´é–¢æ•°åã‚’æ—¥æœ¬èªã«ã™ã‚‹ã¨é€ã‚Œãªã„ã®ã§æ³¨æ„ï¼';
			$.ajax({
			  type: "POST",
			  headers: {
			  	'Content-Type':'application/x-www-form-urlencoded',
			    'Authorization': 'Bearer ' + accessToken
			  },
			  url: url,
			  data: { message: msg },
			  success: function(rtn) {
			  		console.log(rtn);
			  }
		    });
			}

    	var title = "";
    	var body = "";
    	
    	//$("#title").val("ãƒ†ã‚¹ãƒˆ2018-04-28"); //ã“ã‚Œã ã¨changeã‚¤ãƒ™ãƒ³ãƒˆã¯ç™ºç«ã—ãªã„ï¼
    	//$("#body").val("ãƒ†ã‚¹ãƒˆ2018-04-28_12");
    	
    	
    	var a = document.getElementById("scrapboxã«ç™»éŒ²");
    	$('#ã‚¿ã‚¤ãƒˆãƒ«').on('change',function(e){    		
    		title = $(this).val(); console.log(title);
    	});
    	$('#æœ¬æ–‡').on('change',function(e){    		
    		body = $(this).val(); console.log(body);
			});
			
    	//aã‚¿ã‚°ã®ã‚¯ãƒªãƒƒã‚¯ï¼ˆEnterã§å®Ÿè¡Œæ™‚ã‚‚ç™ºç«ï¼‰æ™‚ã«è‡ªåˆ†ã®hrefå±æ€§ã®URLã¸å¤‰ç§»ã•ã›ã‚‹ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ›¸ãã€‚
    	$('#scrapboxã«ç™»éŒ²').click(function(e){
    		console.log("ã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ");
    		$(this).attr('href',"https://scrapbox.io/ssatoh17/" + title + "?body=" + body);
    		var href = $(this).attr('href',"https://scrapbox.io/ssatoh17/" + title + "?body=" + body);
    		
    		var href2 = "https://scrapbox.io/ssatoh17/ScrapboxWebã‚¢ãƒ—ãƒªã§ã®ç™»éŒ²ãƒ­ã‚°?body=[" + title + "]";
    		$('#scrapboxã«é€£ç¶šç™»éŒ²').attr('href',href2);
    		
    		setTimeout(function(){
    			console.log("åˆ¥ã®aã‚¿ã‚°ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ï¼ˆsetTimeoutã§å®Ÿè¡Œï¼‰");
    			$("#scrapboxã«é€£ç¶šç™»éŒ²")[0].click();
    		},500);
    		
    		Lineã«é€šçŸ¥(title); //ğŸŒŸLineã«ã€ŒLine NotifyãŒã€é€šçŸ¥
    		
    		//åˆæœŸåŒ–
    		$('#æœ¬æ–‡').val(''); //ã“ã‚Œã§changeã‚¤ãƒ™ãƒ³ãƒˆã¯ç™ºç”Ÿã—ãªã„ï¼ˆï¼å¤‰æ•°title,bodyã¯å¤‰ã‚ã‚‰ãªã„ï¼‰ã®ã§å®‰å¿ƒã—ã¦ãã ã•ã„
    		$('#ã‚¿ã‚¤ãƒˆãƒ«').focus();
    		$('#ã‚¿ã‚¤ãƒˆãƒ«').val('');
    	});    	    	    		
		
			//ãƒ–ãƒ©ã‚¦ã‚¶åã®è¡¨ç¤º
			$("#ãƒ–ãƒ©ã‚¦ã‚¶å").text(navigator.appName + "ï¼š" + navigator.appVersion);
		</script>
		
  </p>
</body>
</html>

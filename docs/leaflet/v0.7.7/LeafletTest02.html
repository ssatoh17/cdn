<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
<style>
html { width: 100%; height: 100%; }
body { width: 100%; height: 100%; margin: 0; }
#map { width: 100%; height: 100%; }
</style>
</head>
<body>
<div id="map"></div>
<script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
<script>
//即時関数
(function(){
    "use strict";
    //地図の設定
    var map = L.map('map').setView(
        [30.3748331, 130.9574997],
        14
    );
    //地図タイルの設定
    L.tileLayer(
        'http://{s}.tile.osm.org/{z}/{x}/{y}.png', 
        { attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors' }
    ).addTo(map);
    //markerとpopupの設定
    L.marker(
        [30.3748331, 130.9574997], 
        { title: "marker-title1" }
    )
//  .setIcon(L.icon({
//      iconUrl: "http://placehold.jp/cc9999/993333/32x32.png", 
//      iconAnchor: [16, 16], 
//      popupAnchor: [0,-16]
//  }))
    .addTo(map)
//    .bindPopup("<h3>test1</h3><p>hogehoge</p>")
    .bindPopup("<h3>test1</h3><p>hogehoge</p><a href='https://musashi.cybozu.com/k/2535/show#record=62'>minimini巣鴨店</a>")
    .openPopup();
    //markerとpopupの設定
    L.marker(
        [30.4010111, 130.9775733], 
        { title: "marker-title2" }
    )
//  .setIcon(L.icon({
//      iconUrl: "http://placehold.jp/99cc99/339933/32x32.png", 
//      iconAnchor: [16, 16], 
//      popupAnchor: [0,-16]
//  }))
    .addTo(map)
    .bindPopup("<h3>test2</h3><p>piyopiyo</p>")
}());
</script>
</body>
</html>
